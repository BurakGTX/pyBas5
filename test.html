<div class="visits-counter">
  Bu saat içinde siteyi ziyaret eden kişi sayısı: <strong id="visitorCount">0</strong>
</div>

<script>
const USER_ID="3380915154";

async function updateProfile(){
  try{
    const res = await fetch(`https://lyrox.vercel.app/api/server?userId=${USER_ID}`);
    const data = await res.json();
    const s = data.stats || {};

    document.getElementById("avatar").src = data.user.avatar;
    document.getElementById("name").innerText = data.user.name;
    document.getElementById("desc").innerText = data.user.description || "Açıklama yok";
    document.getElementById("created").innerText = "Hesap: "+data.user.created.split("T")[0];

    document.getElementById("robux").innerText = (s.robux||0).toLocaleString();
    document.getElementById("friends").innerText = s.friends||0;
    document.getElementById("followers").innerText = s.followers||0;
    document.getElementById("following").innerText = s.following||0;
    document.getElementById("groups").innerText = s.groups||0;
    document.getElementById("passes").innerText = s.gamePasses||0;

    // visits: frontend’de sadece görüntüleme
    document.getElementById("visitorCount").innerText = s.visits || 1;

  } catch(e){ console.error("API hata:", e); }
}

// İlk yüklemede çalıştır
updateProfile();

// Belki 10-15 saniyede bir refresh edebiliriz
setInterval(updateProfile,15000);
</script>
